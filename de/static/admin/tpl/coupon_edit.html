
<div class='app-content'>
    <h1 ng-if='!is_edit'>添加优惠券</h1>
    <h1 ng-if='is_edit'>编辑优惠券</h1>

    <hr/>

  <form id='couponform' ng-submit='addItem()'>

      <div class="form-group">
        <label for="">优惠券标题</label>
        <input type="text" name='title' ng-model='item.title' class="form-control" placeholder="优惠券标题">
      </div>

     <div class="form-group">
        <label for="">有效期</label>
        <input type="text" name='effective' ng-model='item.effective_days' class="form-control" placeholder="有效期 天数">
      </div>

      <div class="form-group">
        <label for="">优惠券类型</label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.coupon_cat"  name='coupon_cat' value="0">全部适用
        </label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.coupon_cat"  name='coupon_cat' value="1">指定分类
        </label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.coupon_cat"  name='coupon_cat' value="2">指定子分类
        </label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.coupon_cat"  name='coupon_cat' value="3">指定商品
        </label>
      </div>

     <div class="form-group" ng-if='item.coupon_cat==1'>
        <label for="">商品分类</label>
        <select class="form-group" ng-controller="ngItemCat"
            chosen
            allow-single-deselect="true"
            data-placeholder="选择分类"
            no-results-text="'没找到'"
            ng-model="item.cat_id"
            ng-options="o.id as o.name for o in optionsData"
            style="width:200px;">
            <option value=""></option>
        </select>
        <input type="text" name='cat_id' ng-model='item.cat_id' style='display:none;'>
     </div>

      <div class="form-group" ng-if='item.coupon_cat==2'>
        <label for="">商品子分类</label>
        <select class="form-group" ng-controller="ngItemSubcat"
            chosen
            allow-single-deselect="true"
            data-placeholder="选择子分类"
            no-results-text="'没找到'"
            ng-model="item.sub_cat_id"
            ng-options="o.id as o.name for o in optionsData"
            style="width:200px;">
            <option value=""></option>
        </select>
        <input type="text" name='sub_cat_id' ng-model='item.sub_cat_id' style='display:none;'>
      </div>

      <div class="form-group" ng-if='item.coupon_cat==3'>
        <label for="">商品id</label>
        <input type="text" name='item_id' ng-model='item.item_id' class="form-control" placeholder="商品id">
      </div>

     <div class="form-group">
        <label for="">是否试用</label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.is_trial"  name='is_trial' value="0">否
        </label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.is_trial"  name='is_trial' value="1">是
        </label>
      </div>

     <div class="form-group" ng-if='item.is_trial!="1"'>
        <label for="">优惠金额</label>
        <input type="text" name='price' ng-model='item.price' class="form-control" placeholder="现价">
      </div>

    <div class="form-group">
        <label for="">是否满减券</label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.need_cat"  name='need_cat' value="2">否
        </label>
        <label class="radio-inline">
          <input type="radio" ng-model="item.need_cat"  name='need_cat' value="1">是
        </label>
      </div>

      <div class="form-group" ng-if='item.need_cat==1'>
        <label for="">需消费满多少</label>
        <input type="text" name='need' ng-model='item.need' class="form-control" placeholder="消费需满多少">
      </div>

      <button type="submit" class="btn btn-default" >提交</button>
  </form>
   

</div>